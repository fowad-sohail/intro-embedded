


ARM Macro Assembler    Page 1 


    1 00000000         ; Port 1 Pin Direction Register
    2 00000000 40004C04 
                       P1DIR   EQU              0x40004C04
    3 00000000         ; Port 1 Pin Output Register
    4 00000000 40004C02 
                       P1OUT   EQU              0x40004C02
    5 00000000         
    6 00000000 40004C05 
                       P2DIR   EQU              0x40004C05
    7 00000000 40004C03 
                       P2OUT   EQU              0x40004C03
    8 00000000         
    9 00000000 00000040 
                       FLAmask EQU              0x40        ; bitmask P2.6
   10 00000000 00000002 
                       TSTmask EQU              0x2         ; bitmask P1.1
   11 00000000 00000010 
                       YELLOWmask
                               EQU              0x10        ; bitmask P2.4
   12 00000000         
   13 00000000         
   14 00000000                 THUMB
   15 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   16 00000000                 EXPORT           asm_main
   17 00000000         
   18 00000000         asm_main
   19 00000000         ; make P1.0 an output pin
   20 00000000 4823            LDR              R0, =P2DIR  ; load Dir Reg in R
                                                            1
   21 00000002 7801            LDRB             R1, [R0]
   22 00000004 F041 0117       ORR              R1, #23     ; set bit 0
   23 00000008 7001            STRB             R1, [R0]    ; store back to Dir
                                                             Reg
   24 0000000A         
   25 0000000A         loop
   26 0000000A F000 F839       BL               allOFF
   27 0000000E         
   28 0000000E         ; STATE B
   29 0000000E F000 F804       BL               stateB
   30 00000012         
   31 00000012         
   32 00000012         
   33 00000012 E7FA            B                loop        ; repeat the loop
   34 00000014         
   35 00000014         ; This subroutine performs a delay of n ms (for 3 MHz CP
                       U clock). 
   36 00000014         ; n is the value in R0.
   37 00000014         delayMs
   38 00000014         
   39 00000014 3801    L1      SUBS             R0, #1      ; inner loop
   40 00000016 D1FD            BNE              L1
   41 00000018 4770            BX               LR
   42 0000001A         
   43 0000001A         stateB
   44 0000001A F000 F810       BL               greenON
   45 0000001E 481D            LDR              R0, =500000
   46 00000020 F7FF FFF8       BL               delayMs
   47 00000024 F000 F811       BL               greenOFF



ARM Macro Assembler    Page 2 


   48 00000028 481A            LDR              R0, =500000
   49 0000002A F7FF FFF3       BL               delayMs
   50 0000002E F000 F814       BL               yellowON
   51 00000032 4818            LDR              R0, =500000
   52 00000034 F7FF FFEE       BL               delayMs
   53 00000038 F000 F815       BL               yellowOFF
   54 0000003C 4770            BX               LR
   55 0000003E         
   56 0000003E         ; SUBROUTINES
   57 0000003E         greenON
   58 0000003E 4816            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   59 00000040 7801            LDRB             R1, [R0]
   60 00000042 F041 0102       ORR              R1, #2      ; set bit 0
   61 00000046 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   62 00000048 4770            BX               LR
   63 0000004A         
   64 0000004A         greenOFF
   65 0000004A 4813            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   66 0000004C 7801            LDRB             R1, [R0]
   67 0000004E F06F 0202       MVN              R2, #2      ; load complement o
                                                            f bit 0 mask
   68 00000052 EA01 0102       AND              R1, R2      ; clear bit 0
   69 00000056 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   70 00000058 4770            BX               LR
   71 0000005A         
   72 0000005A         ; CHECK THESE WHEN TRANSFER TO YOUR ON BOARD ***********
                       ****************************************8888
   73 0000005A         yellowON
   74 0000005A 480F            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   75 0000005C 7801            LDRB             R1, [R0]
   76 0000005E F041 0110       ORR              R1, YELLOWmask
   77 00000062 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   78 00000064 4770            BX               LR
   79 00000066         
   80 00000066         yellowOFF
   81 00000066 480C            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   82 00000068 7801            LDRB             R1, [R0]
   83 0000006A F06F 0210       MVN              R2, YELLOWmask ; load complemen
                                                            t of bit 0 mask
   84 0000006E EA01 0102       AND              R1, R2      ; clear bit 0
   85 00000072 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   86 00000074 4770            BX               LR
   87 00000076         
   88 00000076         redON
   89 00000076 4809            LDR              R0, =P1OUT  ; load Output Data 
                                                            Reg in R1
   90 00000078 7801            LDRB             R1, [R0]
   91 0000007A F041 0101       ORR              R1, #1      ; set bit 0
   92 0000007E 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
   93 00000080         



ARM Macro Assembler    Page 3 


   94 00000080         allOFF
   95 00000080 4805            LDR              R0, =P2OUT  ; load Output Data 
                                                            Reg in R1
   96 00000082 7801            LDRB             R1, [R0]
   97 00000084 F06F 0207       MVN              R2, #7      ; load complement o
                                                            f bit 0 mask
   98 00000088 EA01 0102       AND              R1, R2      ; clear bit 0
   99 0000008C 7001            STRB             R1, [R0]    ; store back to Out
                                                            put Data Reg
  100 0000008E 4770            BX               LR
  101 00000090         
  102 00000090                 END
              40004C05 
              0007A120 
              40004C03 
              40004C02 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\asm_main.d -o.\objects\asm_main.o -I.\RTE\_Target_1 -
IC:\Users\fssoh\AppData\Local\Arm\Packs\ARM\CMSIS\5.6.0\CMSIS\Core\Include -IC:
\Users\fssoh\AppData\Local\Arm\Packs\TexasInstruments\MSP432P4xx_DFP\3.2.6\Devi
ce\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 528"
 --predefine="_RTE_ SETA 1" --predefine="__MSP432P401R__ SETA 1" --list=.\listi
ngs\asm_main.lst asm_main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 15 in file asm_main.s
   Uses
      None
Comment: .text unused
L1 00000014

Symbol: L1
   Definitions
      At line 39 in file asm_main.s
   Uses
      At line 40 in file asm_main.s
Comment: L1 used once
allOFF 00000080

Symbol: allOFF
   Definitions
      At line 94 in file asm_main.s
   Uses
      At line 26 in file asm_main.s
Comment: allOFF used once
asm_main 00000000

Symbol: asm_main
   Definitions
      At line 18 in file asm_main.s
   Uses
      At line 16 in file asm_main.s
Comment: asm_main used once
delayMs 00000014

Symbol: delayMs
   Definitions
      At line 37 in file asm_main.s
   Uses
      At line 46 in file asm_main.s
      At line 49 in file asm_main.s
      At line 52 in file asm_main.s

greenOFF 0000004A

Symbol: greenOFF
   Definitions
      At line 64 in file asm_main.s
   Uses
      At line 47 in file asm_main.s
Comment: greenOFF used once
greenON 0000003E

Symbol: greenON
   Definitions
      At line 57 in file asm_main.s
   Uses
      At line 44 in file asm_main.s
Comment: greenON used once
loop 0000000A



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols


Symbol: loop
   Definitions
      At line 25 in file asm_main.s
   Uses
      At line 33 in file asm_main.s
Comment: loop used once
redON 00000076

Symbol: redON
   Definitions
      At line 88 in file asm_main.s
   Uses
      None
Comment: redON unused
stateB 0000001A

Symbol: stateB
   Definitions
      At line 43 in file asm_main.s
   Uses
      At line 29 in file asm_main.s
Comment: stateB used once
yellowOFF 00000066

Symbol: yellowOFF
   Definitions
      At line 80 in file asm_main.s
   Uses
      At line 53 in file asm_main.s
Comment: yellowOFF used once
yellowON 0000005A

Symbol: yellowON
   Definitions
      At line 73 in file asm_main.s
   Uses
      At line 50 in file asm_main.s
Comment: yellowON used once
12 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FLAmask 00000040

Symbol: FLAmask
   Definitions
      At line 9 in file asm_main.s
   Uses
      None
Comment: FLAmask unused
P1DIR 40004C04

Symbol: P1DIR
   Definitions
      At line 2 in file asm_main.s
   Uses
      None
Comment: P1DIR unused
P1OUT 40004C02

Symbol: P1OUT
   Definitions
      At line 4 in file asm_main.s
   Uses
      At line 89 in file asm_main.s
Comment: P1OUT used once
P2DIR 40004C05

Symbol: P2DIR
   Definitions
      At line 6 in file asm_main.s
   Uses
      At line 20 in file asm_main.s
Comment: P2DIR used once
P2OUT 40004C03

Symbol: P2OUT
   Definitions
      At line 7 in file asm_main.s
   Uses
      At line 58 in file asm_main.s
      At line 65 in file asm_main.s
      At line 74 in file asm_main.s
      At line 81 in file asm_main.s
      At line 95 in file asm_main.s

TSTmask 00000002

Symbol: TSTmask
   Definitions
      At line 10 in file asm_main.s
   Uses
      None
Comment: TSTmask unused
YELLOWmask 00000010

Symbol: YELLOWmask
   Definitions
      At line 11 in file asm_main.s
   Uses
      At line 76 in file asm_main.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

      At line 83 in file asm_main.s

7 symbols
356 symbols in table
